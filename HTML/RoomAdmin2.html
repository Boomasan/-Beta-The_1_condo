<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/room.css">
    <title>ระบบจัดการห้องพักให้เช่า</title>
    <!-- เพิ่ม axios CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.0/axios.min.js"></script>
</head>
<body>
    
    <h2>ระบบจัดการห้องพักให้เช่า</h2>
    
    <!-- GET Section -->
    <div class="section">
        <h3>ดูข้อมูลห้องพัก</h3>
        <input type="number" id="getRoomId" placeholder="ID ห้อง (เว้นว่างเพื่อดูทั้งหมด)">
        <button onclick="getRooms()">ดูข้อมูลห้องพัก</button>
        <button onclick="getAvailableRooms()" style="background-color: #4caf50;">ดูห้องว่าง</button>
        <div id="getRooms" class="result-box"></div>
    </div>
    
    <!-- POST Section -->
    <div class="section">
        <h3>เพิ่มห้องพักใหม่</h3>
        <input type="text" id="postRoomName" placeholder="ชื่อห้อง (เช่น 01/11)" required>
        <textarea id="postRoomDetail" placeholder="รายละเอียดห้อง" rows="3" required></textarea>
        
        <!-- Image Upload Section -->
        <div style="margin: 8px 0;">
            <label style="display: flex; justify-content: space-between; align-items: center;">
                <button type="button" onclick="document.getElementById('postRoomImage').click()" style="padding: 6px 12px; background-color: #2196f3; color: white; border: none; border-radius: 4px; cursor: pointer;">
                เลือกรูปภาพ
                </button>
                <input type="file" id="postRoomImage" accept="image/*" required 
                    style="display: none;">
            </label>
            <div id="imagePreview" style="margin-top: 10px;"></div>
        </div>

        
        <input type="number" id="postPrice" placeholder="ราคาต่อเดือน" required>
        <select id="postAvailable">
            <option value="true">ห้องว่าง</option>
            <option value="false">ห้องไม่ว่าง</option>
        </select>
        <button onclick="addRoom()">เพิ่มห้องพัก</button>
        <div id="postResult" class="result-box"></div>
    </div>
    
    <!-- PUT Section -->
    <div class="section">
        <h3>แก้ไขข้อมูลห้องพัก</h3>
        <input type="number" id="putRoomId" placeholder="ID ห้องพักที่ต้องการแก้ไข" required>
        <input type="text" id="putRoomName" placeholder="ชื่อห้องใหม่">
        <textarea id="putRoomDetail" placeholder="รายละเอียดใหม่" rows="3"></textarea>
        
        <div style="margin: 8px 0;">
            <label style="display: flex; justify-content: space-between; align-items: center;">
                <button type="button" onclick="document.getElementById('putRoomImage').click()" style="padding: 6px 12px; background-color: #2196f3; color: white; border: none; border-radius: 4px; cursor: pointer;">
                เลือกรูปภาพ
                </button>
                <input type="file" id="putRoomImage" accept="image/*" 
                    style="display: none;">
            </label>
            <div id="updateImagePreview" style="margin-top: 10px;"></div>
        </div>




        
        <input type="number" id="putPrice" placeholder="ราคาใหม่">
        <select id="putAvailable">
            <option value="">-- ไม่เปลี่ยนสถานะ --</option>
            <option value="true">ห้องว่าง</option>
            <option value="false">ห้องไม่ว่าง</option>
        </select>
        <button onclick="updateRoom()">แก้ไขห้องพัก</button>
        <div id="putResult" class="result-box"></div>
    </div>
    
    <!-- PATCH Section -->
    <div class="section">
        <h3>เปลี่ยนสถานะห้อง</h3>
        <input type="number" id="patchRoomId" placeholder="ID ห้องพัก" required>
        <button class="status-button" onclick="changeRoomStatus(true)">ทำให้ว่าง</button>
        <button class="status-button" onclick="changeRoomStatus(false)">ทำให้ไม่ว่าง</button>
        <div id="patchResult" class="result-box"></div>
    </div>
    
    <!-- DELETE Section -->
    <div class="section">
        <h3>ลบห้องพัก</h3>
        <input type="number" id="deleteRoomId" placeholder="ID ห้องพักที่ต้องการลบ" required>
        <button onclick="deleteRoom()" style="background-color: #f44336;">ลบห้องพัก</button>
        <div id="deleteResult" class="result-box"></div>
    </div>
    
    <!-- Room List -->
    <div class="section">
        <h3>รายการห้องพักทั้งหมด</h3>
        <button onclick="showAllRooms()">รีเฟรชรายการ</button>
        <div id="roomList"></div>
    </div>
    
    <div id="message"></div>

    <script>
        
    </script>
</body>
</html>